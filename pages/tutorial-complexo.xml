<page
  id="tutorial-complexo"
  bg_color="#0a0a0a"
  bg_image="tech-bg-lab.png"
  bg_music="osts-stage.mp3"
>
  <!-- TÃ­tulo -->
  <agent
    id="titulo-complexo"
    x="230"
    y="20"
    text="ðŸ§  LiÃ§Ã£o 6: CondiÃ§Ãµes Complexas"
    color="#00ffff"
    font-size="20"
    animation="typewriter"
  />

  <!-- Narrativa introdutÃ³ria -->
  <agent
    id="narrativa-complex-1"
    x="30"
    y="70"
    text="Em um laboratÃ³rio de alta seguranÃ§a, nosso cientista precisa acessar dados ultra-secretos..."
    color="#ffff99"
    font-size="14"
    animation="typewriter"
  />

  <agent
    id="narrativa-complex-2"
    x="30"
    y="100"
    text="O sistema exige mÃºltiplas condiÃ§Ãµes combinadas com AND, OR e NOT!"
    color="#ffff99"
    font-size="14"
    animation="typewriter"
  />

  <!-- CenÃ¡rio: LaboratÃ³rio de alta seguranÃ§a -->
  <agent
    id="cientista"
    x="30"
    y="300"
    image="tech-acid-1.png"
    width="120"
    animation="glow"
  />

  <!-- Painel de controle -->
  <agent
    id="painel-titulo"
    x="200"
    y="140"
    text="ðŸ” Sistema de SeguranÃ§a"
    color="#00ffff"
    font-size="16"
    animation="typewriter"
  />

  <!-- Controles -->
  <agent
    id="status-codigo"
    x="200"
    y="170"
    text="ðŸ”¢ CÃ³digo: $codigo_correto"
    color="#ffffff"
    font-size="14"
  />

  <agent
    id="botao-codigo"
    x="200"
    y="195"
    text="ðŸ”¢ Inserir CÃ³digo"
    color="#ffffff"
    font-size="12"
    on_click="set(codigo_correto, 'true')"
  />

  <agent
    id="status-bio"
    x="200"
    y="225"
    text="ðŸ‘† Biometria: $biometria_ok"
    color="#ffffff"
    font-size="14"
  />

  <agent
    id="botao-bio"
    x="200"
    y="250"
    text="ðŸ‘† Scan BiomÃ©trico"
    color="#ffffff"
    font-size="12"
    on_click="set(biometria_ok, 'true')"
  />

  <agent
    id="status-nivel"
    x="200"
    y="280"
    text="â¬†ï¸ NÃ­vel de Acesso: $nivel_acesso"
    color="#ffffff"
    font-size="14"
  />

  <agent
    id="botao-nivel"
    x="200"
    y="305"
    text="â¬†ï¸ Subir NÃ­vel"
    color="#ffffff"
    font-size="12"
    on_click="set(nivel_acesso, $nivel_acesso + 1)"
  />

  <agent
    id="status-emergencia"
    x="200"
    y="335"
    text="ðŸš¨ EmergÃªncia: $emergencia"
    color="#ffffff"
    font-size="14"
  />

  <agent
    id="botao-emergencia"
    x="200"
    y="360"
    text="ðŸš¨ Ativar EmergÃªncia"
    color="#ffffff"
    font-size="12"
    on_click="set(emergencia, 'true')"
  />

  <!-- CONDIÃ‡ÃƒO COMPLEXA 1: Acesso normal -->
  <fab-if when="($codigo_correto = 'true' and $biometria_ok = 'true') and $nivel_acesso >= 3">
    <agent
      id="acesso-normal"
      x="450"
      y="200"
      text="âœ… ACESSO LIBERADO!"
      color="#00ff00"
      font-size="16"
      animation="bounce-in"
    />

    <agent
      id="porta-aberta"
      x="550"
      y="300"
      image="tech-saw.png"
      width="80"
      animation="spin"
    />
  </fab-if>

  <!-- CONDIÃ‡ÃƒO COMPLEXA 2: Acesso de emergÃªncia -->
  <fab-if when="$emergencia = 'true' or ($nivel_acesso >= 5 and not $biometria_ok = 'false')">
    <agent
      id="acesso-emergencia"
      x="450"
      y="250"
      text="ðŸš¨ ACESSO DE EMERGÃŠNCIA!"
      color="#ff6600"
      font-size="14"
      animation="glow"
    />
  </fab-if>

  <!-- CONDIÃ‡ÃƒO COMPLEXA 3: Acesso negado -->
  <fab-if
    when="not (($codigo_correto = 'true' and $biometria_ok = 'true') or $emergencia = 'true')"
  >
    <agent
      id="acesso-negado"
      x="450"
      y="300"
      text="âŒ ACESSO NEGADO"
      color="#ff0000"
      font-size="14"
    />
  </fab-if>

  <!-- ExplicaÃ§Ã£o das condiÃ§Ãµes -->
  <agent
    id="condicao-1-titulo"
    x="200"
    y="400"
    text="ðŸ’¡ CondiÃ§Ã£o 1:"
    color="#00ffff"
    font-size="14"
    animation="typewriter"
  />

  <agent
    id="condicao-1-texto"
    x="200"
    y="420"
    text="(cÃ³digo AND biometria) AND nÃ­vel â‰¥ 3"
    color="#cccccc"
    font-size="12"
  />

  <agent
    id="condicao-2-titulo"
    x="200"
    y="450"
    text="ðŸš¨ CondiÃ§Ã£o 2:"
    color="#ff6600"
    font-size="14"
    animation="typewriter"
  />

  <agent
    id="condicao-2-texto"
    x="200"
    y="470"
    text="emergÃªncia OR (nÃ­vel â‰¥ 5 AND NOT bio=false)"
    color="#cccccc"
    font-size="12"
  />

  <!-- Reset -->
  <agent
    id="reset-lab"
    x="500"
    y="400"
    text="ðŸ”„ Reset Sistema"
    color="#ffffff"
    font-size="12"
    on_click="set(codigo_correto, 'false'); set(biometria_ok, 'false'); set(nivel_acesso, 1); set(emergencia, 'false')"
  />

  <!-- NavegaÃ§Ã£o -->
  <agent
    id="voltar-not"
    x="50"
    y="530"
    text="â¬…ï¸ Voltar"
    color="#cccccc"
    font-size="14"
    on_click="goToPage('tutorial-logica-not')"
  />

  <agent
    id="proximo-final"
    x="300"
    y="530"
    text="âž¡ï¸ Desafio Final!"
    color="#00ffff"
    font-size="14"
    on_click="goToPage('tutorial-final')"
  />

  <!-- Progresso -->
  <agent
    id="progresso-complex"
    x="20"
    y="20"
    text="Progresso: 6/7"
    color="#00ffff"
    font-size="12"
  />
</page>
